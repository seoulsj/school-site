<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ê¸€ ìƒì„¸ë³´ê¸°</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="logo" onclick="location.href='index.html'">
      ğŸ“¢ ì„œìš¸ì„¸ì¢…ê³ ë“±í•™êµ ì†Œì‹ ì•Œë¦¬ë¯¸
    </div>
  </header>

  <main class="post-container">
    <h2 id="event-title">ì œëª© ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</h2>
    <p><strong>ë‚ ì§œ:</strong> <span id="event-date"></span></p>
    <p id="event-content"></p>
    <button id="edit-btn">âœ ìˆ˜ì •</button>
    <button id="delete-btn">ğŸ—‘ ì‚­ì œ</button>
  </main>

  <script>
    let eventId = null;

    window.onload = () => {
      const params = new URLSearchParams(window.location.search);
      eventId = parseInt(params.get("id"), 10);

      const events = JSON.parse(localStorage.getItem("events") || "[]");
      const event = events[eventId];

      if (!event) {
        document.querySelector("main").innerHTML = "<p>í•´ë‹¹ ê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>";
        return;
      }

      // ë‚´ìš© í‘œì‹œ
      document.getElementById("event-title").textContent = event.title;
      document.getElementById("event-date").textContent = event.date;
      document.getElementById("event-content").textContent = event.content;

      // ìˆ˜ì • ë²„íŠ¼
      document.getElementById("edit-btn").onclick = () => {
        location.href = `edit-event.html?id=${eventId}`;
      };

      // ì‚­ì œ ë²„íŠ¼
      document.getElementById("delete-btn").onclick = () => {
        if (confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
          events.splice(eventId, 1);
          localStorage.setItem("events", JSON.stringify(events));
          alert("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
          location.href = "index.html";
        }
      };
    };
  </script>
</body>
</html>
