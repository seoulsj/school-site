<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë‹¤ê°€ì˜¬ ì†Œì‹</title>
  <link rel="stylesheet" href="style.css" />
  <script>
    window.onload = () => {
      const container = document.getElementById("upcoming-list");
      const events = JSON.parse(localStorage.getItem("events") || "[]");
      const today = new Date();
      today.setHours(0, 0, 0, 0);

      const upcoming = events.filter(event => {
        const d = new Date(event.date);
        d.setHours(0, 0, 0, 0);
        return d >= today;
      }).sort((a, b) => new Date(a.date) - new Date(b.date));

      if (upcoming.length === 0) {
        container.innerHTML = "<p>ë‹¤ê°€ì˜¬ í–‰ì‚¬ê°€ ì—†ìŠµë‹ˆë‹¤.</p>";
        return;
      }

      upcoming.forEach(event => {
        const card = document.createElement("div");
        card.className = "event-card";
        card.innerHTML = `
          <h3>${event.title}</h3>
          <p><strong>ë‚ ì§œ:</strong> ${event.date}</p>
          <p>${event.content}</p>
        `;
        if (event.color) {
          card.style.borderLeft = `6px solid ${event.color}`;
        }

        if (localStorage.getItem("isAdmin") === "true") {
  const btnContainer = document.createElement("div");

  const editBtn = document.createElement("button");
  editBtn.textContent = "âœ ìˆ˜ì •";
  editBtn.onclick = () => {
    location.href = `edit-event.html?id=${events.indexOf(event)}`;
  };

  const deleteBtn = document.createElement("button");
  deleteBtn.textContent = "ğŸ—‘ ì‚­ì œ";
  deleteBtn.onclick = () => {
    if (confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
      events.splice(events.indexOf(event), 1);
      localStorage.setItem("events", JSON.stringify(events));
      alert("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
      location.reload();
    }
  };

  btnContainer.appendChild(editBtn);
  btnContainer.appendChild(deleteBtn);
  card.appendChild(btnContainer);
}
        container.appendChild(card);
      });
    };
  </script>
</head>
<body>
  <header>
    <div class="logo" onclick="location.href='index.html'">ğŸ“¢ ì„œìš¸ì„¸ì¢…ê³ ë“±í•™êµ ì†Œì‹ ì•Œë¦¬ë¯¸</div>
  </header>

  <main>
    <h1>ğŸ“¢ ë‹¤ê°€ì˜¬ ì†Œì‹</h1>
    <div id="upcoming-list"></div>
  </main>
</body>
</html>
